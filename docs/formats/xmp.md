# XMP Metadata

Postcard metadata can be stored in [XMP format](https://en.wikipedia.org/wiki/Extensible_Metadata_Platform), which can be output directly using the `xmp` format, and is stored inside the images produced with the [web](web.md) format. When output they'll be called `{name}-meta.xmp`

The following XMP fields are used to store Postcard metadata. Some of them don't match _perfectly_ semantically (eg. the time the postcard was sent being represented by the tag usually used for when a photo was taken, or the GPS coordinates for the location the postcard references) — but they're close enough for human use. Postcard-specific machine uses should convert them according to the following guide:

| XMP field                   | Schema         | Postcard metadata                       | Use                                                                                                                                          |
|-----------------------------|----------------|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| ImageWidth                  | TIFF           | (from source images)                    | The pixel width of the combined image                                                                                                        |
| ImageLength                 | TIFF           | (from source images)                    | The pixel height of the combined image                                                                                                       |
| XResolution                 | TIFF           | (from source images)                    | The cm width of the combined image (always the width of the front of the postcard)                                                           |
| YResolution                 | TIFF           | (from source images)                    | The cm height of the combined image (always twice the height of the front of the postcard)                                                   |
| ResolutionUnit              | TIFF           | (from source images)                    | Always "3", the indicator for centimetres                                                                                                    |
| Description                 | DC             | -                                       | Always "Both sides of a postcard, stored in the '.postcard' format (https://dotpostcard.org)"                                                |
| DateTimeOriginal            | Exif           | sentOn                                  | The date the postcard was sent                                                                                                               |
| GPSAreaInformation          | Exif           | location.name                           | The name of the location the postcard references                                                                                             |
| GPSLatitude                 | Exif           | location.latitude                       | The latitude of that location                                                                                                                |
| GPSLongitude                | Exif           | location.longitude                      | The longitude of that location                                                                                                               |
| AltTextAccessibility        | IPTC4 XMP Core | front.description, back.transcription   | Generated text suitable to be used as alt text for the postcard                                                                              |
| Transcript                  | IPTC4 XMP Ext  | back.transcription, front.transcription | The transcript of any writing on the the postcard. A § character will divide the back and the front (in that order), if needed               |
| ImageRegionName             | IPTC4 XMP Ext  | -                                       | A generic description of why an area of the postcard which has been masked as "secret"                                                       |
| ImageRegionBoundaryVertices | IPTC4 XMP Ext  | front.secrets, back.secrets             | The (normalized) x, y positions of the edges of the secret region                                                                            |
| ImageRegionBoundaryUnit     | IPTC4 XMP Ext  | -                                       | Always "relative" (the vertex values are normalized to the width and height of the image)                                                    |
| Flip                        | Postcard       | flip                                    | Which way the postcard should flip (book, calendar, left-hand, right-hand). **This field should be the one used to detect a postcard image** |
| Sender                      | Postcard       | sender                                  | The name (and possibly URL) of the sender of the postcard                                                                                    |
| Recipient                   | Postcard       | recipient                               | The name (and possibly URL) of the recipient of the postcard                                                                                 |
| Context                     | Postcard       | context.description                     | Any context provided about the postcard                                                                                                      |
| ContextAuthor               | Postcard       | context.author                          | The name (and possibly URL) of the author of the context                                                                                     |
| -                           | -              | locale                                  | This metadata field is used to pick a suitable language for any fields above that are localised                                              |
